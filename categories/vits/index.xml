<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title>vits - Category - Evilmass</title><link>https://evilmass.github.io/categories/vits/</link><description>vits - Category - Evilmass</description><generator>Hugo -- gohugo.io</generator><language>en</language><copyright>This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.</copyright><lastBuildDate>Tue, 23 May 2023 15:10:29 +0800</lastBuildDate><atom:link href="https://evilmass.github.io/categories/vits/" rel="self" type="application/rss+xml"/><item><title>为弹幕姬 ReTTS-Cat 插件搭建自定义 tts 引擎</title><link>https://evilmass.github.io/posts/tts_for_danmuji/</link><pubDate>Tue, 23 May 2023 15:10:29 +0800</pubDate><author>Author</author><guid>https://evilmass.github.io/posts/tts_for_danmuji/</guid><description><![CDATA[上回说到，在 huggingface 搭建好 vits server 后，平时直播的弹幕语音靠 bilive_dm 播报，有时候口糊听不清还要切窗口看一眼。然后看到弹幕姬有个自定义 tts 引擎，故考虑接入试试。
Re: TTSCat Re: TTSCat 插件 以及 仓库地址
开幕 archived 问题不大。 插件页面有自定义 tts 引擎 url 的参考格式，怎么简单怎么来（GET）。 在临时目录添加一个 mp3 文件并启动 http 服务器
1 2 3 python3 -m http.server # 自定义引擎地址填入如下 url https://127.0.0.1:8000?text=$TTSTEXT 语音成功播放后感觉 so easy，然后如无意外的出现意外了。
踩坑 fastapi 写个简单 get 接口。
1 2 3 4 5 6 7 8 9 10 @app.get(&#34;/voice&#34;) async def get_audio(token: str, text: str): if token != os.environ.get(&#34;token&#34;): return {&#34;code&#34;: 401} # vits 合成语音，返回二进制文件 audio = load_fast_vits(text) if audio is None: return {&#34;code&#34;: 500} else: return FileResponse(audio) 发送弹幕后什么都没有发生，打开调试模式看看怎么回事。 一切正常，还是什么都没有发生。 在缓存目录下找到 get 获取到的音频文件，直接播放没有问题。]]></description></item><item><title>使用安卓设备运行 vits 语音合成</title><link>https://evilmass.github.io/posts/android_vits/</link><pubDate>Sat, 18 Mar 2023 13:13:33 +0800</pubDate><author>Author</author><guid>https://evilmass.github.io/posts/android_vits/</guid><description>配置不难就是坑多，而且完全不可用。
PRoot 与 chroot chroot 和 PRoot的一个主要区别是 chroot 是原生的。
PRoot通过使用 ptrace() 劫持系统调用参数和返回值来伪造文件系统布局和用户/组ID。 chroot不造成额外的开销，在任何设备上都不会出现问题，但是它需要root权限。 所以基于PRoot的 UserLAnd 和 Termux 并不适合。 一开始用 UserLAnd 配置环境倒是没问题，但是执行到 pip install package 的时候就报 Permission Denied 错误。
root 闲置机器是 Nubia Z9，安卓 5.2 版本直接线刷回出厂版本后使用 Kingroot 一键 root。
不得不说这块屏幕和金属边框设计放到 2023 年还是很漂亮，最近新出的 Z50 Ultra 也是类似设计。 可惜的是 骁龙810 + 电池 2900毫安 + 3G 运行内存。810 在日常室温使用只能用烫手来形容，加上扎实的手感，拿起来怕摔加保护壳又没手感+升温，当日常备用机完全不合适。
LinuxDeploy 仓库地址：LinuxDeploy
基本按图里面的配置或者全程科学上网都没有什么问题，BusyBox 实测是不需要的。
架构选 ARM64 即可，系统一定要选 LTS Release，非 LTS 不支持 deadsnakes 源，apt get install python3.7 肯定比源码编译快多了。当然，想尝试花一个小时从源码编译 Python3.7 我也不拦着（</description></item></channel></rss>