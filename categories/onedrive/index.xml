<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title>onedrive - Category - Evilmass</title><link>https://evilmass.github.io/categories/onedrive/</link><description>onedrive - Category - Evilmass</description><generator>Hugo -- gohugo.io</generator><language>en</language><copyright>This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.</copyright><lastBuildDate>Tue, 27 Jun 2023 12:43:36 +0800</lastBuildDate><atom:link href="https://evilmass.github.io/categories/onedrive/" rel="self" type="application/rss+xml"/><item><title>搭建一个属于自己的在线网盘</title><link>https://evilmass.github.io/posts/oneindex/</link><pubDate>Tue, 27 Jun 2023 12:43:36 +0800</pubDate><author>Author</author><guid>https://evilmass.github.io/posts/oneindex/</guid><description><![CDATA[简单记录搭建 onedrive-vercel-index 的过程。
官方文档的搭建流程清晰明了，跟着步骤来就行，唯一问题是官方仓库的 clientID 过期。
参考使用你自己的 client id 与 secret 修改自己 fork 的仓库下 api.config.js
1 2 3 4 5 6 7 module.exports = { // The clientId and clientSecret are used to authenticate the user with Microsoft Graph API using OAuth. You would // not need to change anything here if you can authenticate with your personal Microsoft account with OneDrive International. clientId: &#39;d87bcc39-1750-4ca0-ad54-f8d0efbb2735&#39;, obfuscatedClientSecret: &#39;U2FsdGVkX1830zo3/pFDqaBCVBb37iLw3WnBDWGF9GIB2f4apzv0roemp8Y+iIxI3Ih5ecyukqELQEGzZlYiWg==&#39;, ... } 最后在 vercel dashboard 再设置下自定义域名，完美。]]></description></item><item><title>因为云同步，我丢失了大学四年的照片</title><link>https://evilmass.github.io/posts/missing_photo/</link><pubDate>Mon, 26 Jun 2023 19:53:15 +0800</pubDate><author>Author</author><guid>https://evilmass.github.io/posts/missing_photo/</guid><description>起因 本人一直对国内云盘一直没什么好态度。尤其是打开某盘，起手就默认勾选文件夹只等你一不小心按下同意按钮，直接自动扫盘（可能打开 APP 的时候就扫了）兼备份，更不说随处可见的推广和弹窗广告。
因此在涉及到有个人隐私（家庭照片）备份方案方面都是重要隐私先加密文件夹再丢上 OneDrive 保险库，不重要但设计隐私的文件直接丢进保险库。定期用 FreeFileSync 进行双向同步，移动硬盘针对全盘备份则是半年一次。
一切仿佛都是这么美好，甚至在发现一加云服务自动上传了我整个手机相册之后写了批量脚本全删掉了（为什么要手贱）。
出事 OneDrive 保险库一直都挺好用的，直到文件过多（什么文件我不说）后，Windows 端的云备份频繁卡死。不管是重置程序还是转移文件出保险库，只要保险库内文件数量到一定程度，OneDrive 扫盘建索引传文件这一套下来，不是卡在正在上传就是打开本地文件夹后云备份程序直接崩溃。
按理说转移出来创建两个文件夹分别加密就好了，但是懒（手贱还懒），转移出来我关掉保险库功能，结果增量同步后出现重复文件的问题。
云同步 != 云备份 可以留意到上一节我用的都是云备份，真正的云同步是某盘和一加自带的云服务这种，因此为了解决双向同步问题引入了 FreeFileSync。
整个双向云同步的逻辑就变成这样：
手机新增图片 手机开启 FTP 服务器 FreeFileSync 增量同步手机多个相册到 OneDrive 指定目录 Windows 本地 OneDrive 自动同步 手机端的 OneDrive 也自动同步 看上去都没什么问题，但是手机端的 OneDrive 会作妖。它会像下面这样提示你是否备份新出现的文件夹，然而实际上我已经把所有需要同步的相册目录添加进去了。 但是！手机新增的图片不仅会添加到你设定的文件夹去，还会被多一份拷贝添加到它固定（删了会自动创建）目录下：本机照片。
这就导致我每次同步都得从本机照片里找到需要或不需要的照片，根据不同目录（微信、淘宝、Bilibili、QQ、系统截图）手动筛一遍。
那手机 OneDrive 本地监听的备份目录意义何在？
而且一旦手机端 OneDrive 先同步再走双向云同步流程的话，FreeFileSync 就分不清你想要的还是你想要删掉的，毕竟哪边修改日期更新就增量同步过去。
于是乎在
一加云相册被脚本删完 FreeFileSync 双向同步删掉 2020 年 2 月前所有照片 移动硬盘备份也是最新的（丢失输出的新增备份） 的叠加状态下，我成功丢失了大学四年所有照片，以及数十张更旧照片的所有回忆。
反思 现在去掉了整个双向同步流程，OneDrive 作为云备份，一加云服务则是云同步，移动硬盘备份前再三确认相册有无过多删减。
其实大学四年能回忆起来的东西并不多，大四拍毕业照当天我也和宿友感慨过：
大学四年，匆匆走过，形同路人。 谈不上多遗憾只是觉得时间走得太快，徒留少数自我感动的时刻和即将远走各方的失落。 大一到大四每个学期印象比较深的事件大概很久都不会忘记，但是以后就说不准了。更旧的照片也没有什么隐私，美食方面占了很大一部分，所以丢了也不遗憾。
我以前也不喜欢将个人隐私暴露到网络上，高中还把小学时期 QQ 空间的内容全删了。现在看来大可不必，相片存在的意义就是记录当下，对于个人而言就是定格时光和回忆的载体，不管多么幼稚可笑，都是难得的回忆。
隐私保护是必要的，记录当下更是。</description></item></channel></rss>